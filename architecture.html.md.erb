---
title: Kubernetes Service Manager for PCF Reference Architecture
owner: Platform Engineering (KSM Team)
---
<strong><%= modified_date %></strong>

<%= partial ("beta-notice") %>

(KSM) for Pivotal Cloud Foundry (PCF).

This topic describes in detail the components, architecture, and technical details of Kubernetes Service Manager.

##<a id='overview'></a> Overview

KSM is a collection of components running on a BOSH deployed VM, communicating with both Kubernetes cluster(s) and
Pivotal Cloud Foundry.

![Reference Architecture](reference_architecture.jpg)

On the BOSH VM, there are three components:

##<a id='ksmd'></a> KSM Daemon (ksm-d)

This component serves as the API the cli communicates with. When the Platform Operator saves a chart,
this component validates the chart and stores it in chart museum. If provided, it stores
the `ksm.yaml` description as well. See 
[Using KSM](./using.html) for more details on how to build charts and a `ksm.yaml` descriptor.

##<a id='ksmd'></a> KSM Broker

This component is an [Open Service Broker ](https://github.com/openservicebrokerapi/servicebroker). When the PCF Developer requests 
that a service instance is created, the Cloud Controller sends that request to the broker. The broker will then deploy
the Helm chart(s) needed for the service.

##<a id='osbapi'></a> Detailed life-cycle.
###<a id='provision'></a> Provision
On provision, the first thing KSM does is create a namespace in the cluster. This namepace is named `kibosh-xxxx`, where `xxxx` is the
`instance_id` generated by PCF.

###<a id='provision'></a> Bind
###<a id='provision'></a> Update
###<a id='provision'></a> Unbind
###<a id='provision'></a> Deprovision
